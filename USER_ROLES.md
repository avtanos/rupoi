# Роли пользователей АИС РУПОИ

## Обзор ролей

Система АИС РУПОИ предусматривает 5 основных ролей пользователей, каждая из которых имеет специфические права доступа и функциональные возможности.

## 1. Регистратура (registry)

### Описание
Сотрудники регистратуры отвечают за первичный прием пациентов, создание и ведение персональных дел.

### Основные функции
- ✅ Создание персональных дел пациентов
- ✅ Редактирование персональных дел
- ✅ Поиск по ПИН, ФИО, статусу
- ✅ Просмотр истории оказания услуг
- ✅ Управление документами пациентов
- ✅ Ввод персональных данных
- ✅ Указание категории и группы инвалидности

### Ограничения
- ❌ Не может создавать заказы
- ❌ Не может выписывать направления
- ❌ Не имеет доступа к складским операциям
- ❌ Не может формировать отчеты

### Тестовые данные
- **Логин:** `registry_user`
- **Пароль:** `registry123`
- **Логин:** `registry_user2`
- **Пароль:** `registry456`

## 2. Медицинский отдел (medical)

### Описание
Врачи-ортопеды и медицинский персонал, отвечающие за осмотр пациентов и назначение протезно-ортопедических изделий.

### Основные функции
- ✅ Просмотр персональных дел
- ✅ Создание направлений на услуги
- ✅ Выписка заказов на изготовление
- ✅ Осмотр пациентов
- ✅ Назначение протезно-ортопедических изделий
- ✅ Контроль выполнения заказов
- ✅ Формирование медицинских отчетов
- ✅ Указание технических требований

### Ограничения
- ❌ Не может управлять складскими операциями
- ❌ Не может изменять системные настройки
- ❌ Не имеет доступа к административным функциям

### Тестовые данные
- **Логин:** `medical_user`
- **Пароль:** `medical123`
- **Логин:** `medical_user2`
- **Пароль:** `medical456`

## 3. Мастерские (workshop)

### Описание
Мастера-протезисты и производственный персонал, отвечающие за изготовление протезно-ортопедических изделий.

### Основные функции
- ✅ Просмотр заказов на изготовление
- ✅ Обновление статусов выполнения
- ✅ Создание накладных на готовую продукцию
- ✅ Указание технических характеристик
- ✅ Контроль качества изделий
- ✅ Учет рабочего времени
- ✅ Формирование производственных отчетов

### Ограничения
- ❌ Не может создавать персональные дела
- ❌ Не может выписывать направления
- ❌ Не имеет доступа к административным функциям
- ❌ Не может управлять складскими операциями

### Тестовые данные
- **Логин:** `workshop_user`
- **Пароль:** `workshop123`
- **Логин:** `workshop_user2`
- **Пароль:** `workshop456`

## 4. Склад готовой продукции (warehouse)

### Описание
Кладовщики и складской персонал, отвечающие за учет, хранение и выдачу готовой продукции.

### Основные функции
- ✅ Просмотр накладных на готовую продукцию
- ✅ Прием готовых изделий на склад
- ✅ Выдача изделий пациентам
- ✅ Контроль складских остатков
- ✅ Управление складскими позициями
- ✅ Формирование складских отчетов
- ✅ Учет движения товаров

### Ограничения
- ❌ Не может создавать персональные дела
- ❌ Не может выписывать направления
- ❌ Не может создавать заказы
- ❌ Не имеет доступа к административным функциям

### Тестовые данные
- **Логин:** `warehouse_user`
- **Пароль:** `warehouse123`

## 5. Администрация (admin)

### Описание
Системные администраторы и руководство, имеющие полный доступ ко всем функциям системы.

### Основные функции
- ✅ Полный доступ ко всем модулям
- ✅ Управление пользователями
- ✅ Настройка системы
- ✅ Формирование всех типов отчетов
- ✅ Мониторинг системы
- ✅ Резервное копирование
- ✅ Управление правами доступа

### Ограничения
- Нет ограничений

### Тестовые данные
- **Логин:** `admin_user`
- **Пароль:** `admin123`

## Матрица прав доступа

| Функция | Регистратура | Медотдел | Мастерские | Склад | Администрация |
|---------|-------------|----------|------------|-------|---------------|
| Персональные дела | ✅ Создание/редактирование | ✅ Просмотр | ❌ | ❌ | ✅ Полный доступ |
| Направления | ❌ | ✅ Создание | ❌ | ❌ | ✅ Полный доступ |
| Заказы | ❌ | ✅ Создание | ✅ Просмотр/обновление | ❌ | ✅ Полный доступ |
| Накладные | ❌ | ❌ | ✅ Создание | ✅ Просмотр/выдача | ✅ Полный доступ |
| Склад | ❌ | ❌ | ❌ | ✅ Управление | ✅ Полный доступ |
| Отчеты | ❌ | ✅ Медицинские | ✅ Производственные | ✅ Складские | ✅ Все отчеты |
| Пользователи | ❌ | ❌ | ❌ | ❌ | ✅ Управление |
| Настройки | ❌ | ❌ | ❌ | ❌ | ✅ Полный доступ |

## Создание пользователей

Для создания пользователей с ролями используйте команду:

```bash
cd backend
python manage.py create_users
```

Или запустите скрипт настройки данных:

```bash
./setup_data.bat
```

## Безопасность

- Все пароли хранятся в зашифрованном виде
- Сессии автоматически завершаются при неактивности
- Все действия пользователей логируются
- Доступ к системе контролируется по ролям
- Регулярное резервное копирование данных
