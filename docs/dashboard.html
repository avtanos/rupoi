<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>АИС ЕССО — Главная</title>
  <style>
    :root { 
      --bg:#f3f5f7; 
      --card:#ffffff; 
      --text:#1e2a3a; 
      --muted:#6b778c; 
      --primary:#2f4b7c; 
      --primary-weak:#3f5e94; 
      --border:#e2e8f0; 
      --accent:#2f9e44; 
      --danger:#e03131; 
      --warning:#b08900; 
      --shadow:0 2px 10px rgba(30,42,58,.08); 
      --radius:12px; 
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Arial,sans-serif;background:var(--bg);color:var(--text)}
    .app{display:grid;grid-template-columns:260px 1fr;grid-template-rows:64px 1fr;grid-template-areas:"sidebar topbar" "sidebar main";height:100vh}

    /* Topbar */
    .topbar{grid-area:topbar;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 18px;position:sticky;top:0;z-index:2}
    .topbar .brand{display:flex;align-items:center;gap:12px;font-weight:600}
    .topbar .crumbs{font-weight:400;opacity:.9}
    .topbar .actions{display:flex;align-items:center;gap:16px}
    .avatar{width:28px;height:28px;border-radius:50%;background:#fff;color:var(--primary);display:grid;place-items:center;font-weight:700}

    /* Sidebar */
    .sidebar{grid-area:sidebar;background:#fff;border-right:1px solid var(--border);padding:18px 12px;display:flex;flex-direction:column;gap:16px}
    .sidebar .logo{display:flex;align-items:center;gap:12px;padding:8px;font-weight:700;color:var(--primary)}
    .nav-group{margin-top:8px}
    .nav-title{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.06em;padding:8px 10px}
    .nav-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:8px;color:var(--text);cursor:pointer;user-select:none}
    .nav-item:hover{background:#f1f4f8}
    .nav-item.active{background:#e9eef7;color:var(--primary);font-weight:600}
    .nav-item .icon{width:18px;height:18px;border-radius:4px;background:var(--primary);opacity:.15}

    /* Main */
    .main{grid-area:main;padding:22px;overflow:auto}
    .page-title{font-size:22px;font-weight:700;margin:4px 0 16px}
    .breadcrumbs{color:#dbe4ff;font-size:14px}
    .breadcrumbs-wrap{margin-bottom:16px;color:var(--muted)}

    /* Cards & tables */
    .grid{display:grid;grid-template-columns:1fr;gap:18px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
    .card h3{margin:0 0 14px;font-size:16px}
    .data-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
    .data-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:8px;align-items:flex-start}
    .data-card h4{margin:0;font-size:14px;color:var(--muted);font-weight:500}
    .data-card .value{font-size:20px;font-weight:700;color:var(--text)}
    .data-card .trend{font-size:12px;color:var(--accent)}

    /* Dashboard specific */
    .module-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:20px}
    .module-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:20px;box-shadow:var(--shadow);cursor:pointer;transition:all 0.2s ease}
    .module-card:hover{transform:translateY(-2px);box-shadow:0 4px 20px rgba(30,42,58,.12)}
    .module-card h3{margin:0 0 12px;color:var(--primary);font-size:18px}
    .module-card p{color:var(--muted);margin:0 0 16px;line-height:1.5}
    .module-card .stats{display:flex;justify-content:space-between;align-items:center}
    .module-card .count{font-size:24px;font-weight:700;color:var(--text)}
    .module-card .status{font-size:12px;padding:4px 8px;border-radius:6px;background:var(--accent);color:#fff}

    table{width:100%;border-collapse:collapse}
    th,td{padding:12px;border-bottom:1px solid var(--border);text-align:left;font-size:14px}
    th{color:var(--muted);font-weight:600}
    tr:hover td{background:#fafbfd}
    .actions-col{display:flex;gap:8px;flex-wrap:wrap}

    /* Forms */
    .form-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
    .field{display:flex;flex-direction:column;gap:6px;grid-column:span 3}
    .field.sm{grid-column:span 2} .field.md{grid-column:span 4} .field.lg{grid-column:span 6} .field.xl{grid-column:span 12}
    label{font-size:13px;color:var(--muted)}
    input,select,textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#fff;font-size:14px;outline:none}
    input[type="number"]{appearance:textfield}
    textarea{min-height:84px;resize:vertical}
    .btn-row{display:flex;gap:10px;align-items:center}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid transparent;font-weight:600;cursor:pointer;user-select:none}
    .btn.primary{background:var(--primary);color:#fff}
    .btn.primary:hover{background:var(--primary-weak)}
    .btn.ghost{background:#fff;border-color:var(--border);color:var(--text)}
    .btn.danger{background:#fff;border-color:var(--danger);color:var(--danger)}

    .pill{display:inline-flex;align-items:center;padding:4px 8px;border-radius:999px;border:1px solid var(--border);font-size:12px;gap:6px}
    .pill.warn{color:#8a6d00;border-color:#e7d36b;background:#fffbe6}
    .pill.ok{color:#0a6b2e;border-color:#9fd4ad;background:#f0fff4}
    .pill.bad{color:#8a1f1f;border-color:#efb1b1;background:#fff5f5}

    /* Views */
    .view{display:none}
    .view.active{display:block}

    @media (max-width:1200px){.field{grid-column:span 6}.field.sm{grid-column:span 4}.field.md{grid-column:span 6}.field.lg{grid-column:span 12}}
    @media (max-width:820px){.app{grid-template-columns:1fr;grid-template-rows:56px auto;grid-template-areas:"topbar" "main"}.sidebar{display:none}.topbar{border-bottom-left-radius:0;border-bottom-right-radius:0}}
  </style>
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="logo"><div class="icon" style="width:32px;height:32px;border-radius:50%;opacity:.3"></div>АИС ЕССО</div>
    <div class="nav-group">
      <div class="nav-title">Операции</div>
      <div class="nav-item active" data-nav="dashboard"><div class="icon"></div> Главная</div>
      <div class="nav-item" data-nav="cases-list"><div class="icon"></div> Личные дела</div>
      <div class="nav-item" data-nav="orders-list"><div class="icon"></div> Заказы</div>
      <div class="nav-item" data-nav="invoices-list"><div class="icon"></div> Накладные</div>
      <div class="nav-item" data-nav="warehouse-stock"><div class="icon"></div> Склад</div>
      <div class="nav-item" data-nav="warehouse-issues"><div class="icon"></div> Выдача</div>
      <div class="nav-item"><div class="icon"></div> Отчёты</div>
      <div class="nav-item"><div class="icon"></div> Администрирование</div>
    </div>
  </aside>

  <header class="topbar">
    <div class="brand"><span class="crumbs" id="crumbs">/ Главная</span></div>
    <div class="actions"><span class="muted">Айжана Сайрабаева</span><div class="avatar">A</div></div>
  </header>

  <main class="main">
    <div class="breadcrumbs-wrap">Главная</div>

    <!-- =========== ГЛАВНАЯ СТРАНИЦА =========== -->
    <section id="dashboard" class="view active">
      <div class="page-title">Панель управления</div>
      
      <!-- Общая статистика -->
      <div class="data-cards">
        <div class="data-card"><h4>Всего личных дел</h4><div class="value">1,247</div><div class="trend">+23 за неделю</div></div>
        <div class="data-card"><h4>Активных заказов</h4><div class="value">156</div><div class="trend">+8 за неделю</div></div>
        <div class="data-card"><h4>Накладных на выдаче</h4><div class="value">42</div><div class="trend" style="color:var(--warning)">+5 за неделю</div></div>
        <div class="data-card"><h4>Позиций на складе</h4><div class="value">1,200</div><div class="trend">+15 за неделю</div></div>
      </div>

      <!-- Модули системы -->
      <div class="module-grid">
        <div class="module-card" onclick="window.open('index.html', '_blank')">
          <h3>Личные дела</h3>
          <p>Управление персональными данными пациентов, создание и ведение личных дел</p>
          <div class="stats">
            <div class="count">1,247</div>
            <div class="status">Активно</div>
          </div>
        </div>

        <div class="module-card" onclick="window.open('orders.html', '_blank')">
          <h3>Заказы</h3>
          <p>Создание и управление заказами на изготовление протезно-ортопедических изделий</p>
          <div class="stats">
            <div class="count">156</div>
            <div class="status">В работе</div>
          </div>
        </div>

        <div class="module-card" onclick="window.open('invoices.html', '_blank')">
          <h3>Накладные</h3>
          <p>Формирование накладных на готовую продукцию и управление процессом выдачи</p>
          <div class="stats">
            <div class="count">42</div>
            <div class="status">На выдаче</div>
          </div>
        </div>

        <div class="module-card" onclick="window.open('warehouse.html', '_blank')">
          <h3>Склад</h3>
          <p>Управление складскими остатками, приём и выдача готовой продукции</p>
          <div class="stats">
            <div class="count">1,200</div>
            <div class="status">В наличии</div>
          </div>
        </div>

        <div class="module-card">
          <h3>Отчёты</h3>
          <p>Формирование аналитических отчётов по всем модулям системы</p>
          <div class="stats">
            <div class="count">15</div>
            <div class="status">Доступно</div>
          </div>
        </div>

        <div class="module-card">
          <h3>Администрирование</h3>
          <p>Управление пользователями, настройки системы и права доступа</p>
          <div class="stats">
            <div class="count">5</div>
            <div class="status">Ролей</div>
          </div>
        </div>
      </div>

      <!-- Последние действия -->
      <section class="card" style="margin-top:30px;">
        <h3>Последние действия</h3>
        <table>
          <thead>
            <tr>
              <th>Время</th><th>Пользователь</th><th>Действие</th><th>Объект</th><th>Статус</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>08.08.2025 15:30</td><td>Айжана Сайрабаева</td><td>Создано личное дело</td><td>2025-0001</td><td><span class="pill ok">Успешно</span></td>
            </tr>
            <tr>
              <td>08.08.2025 14:25</td><td>Медотдел</td><td>Создан заказ</td><td>ORD-2025-0156</td><td><span class="pill ok">Успешно</span></td>
            </tr>
            <tr>
              <td>08.08.2025 13:15</td><td>Цех</td><td>Сформирована накладная</td><td>NK-2025-001</td><td><span class="pill ok">Успешно</span></td>
            </tr>
            <tr>
              <td>08.08.2025 12:00</td><td>Склад</td><td>Выдана продукция</td><td>VD-2025-010</td><td><span class="pill ok">Успешно</span></td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Быстрые действия -->
      <section class="card" style="margin-top:20px;">
        <h3>Быстрые действия</h3>
        <div class="btn-row">
          <button class="btn primary" onclick="window.open('index.html', '_blank')">+ Новое личное дело</button>
          <button class="btn primary" onclick="window.open('orders.html', '_blank')">+ Новый заказ</button>
          <button class="btn primary" onclick="window.open('invoices.html', '_blank')">+ Новая накладная</button>
          <button class="btn primary" onclick="window.open('warehouse.html', '_blank')">+ Позиция на склад</button>
        </div>
      </section>
    </section>
  </main>
</div>

<script>
  // Простая маршрутизация по data-nav
  const views = document.querySelectorAll('.view');
  const navItems = document.querySelectorAll('.nav-item[data-nav]');
  const crumbsEl = document.getElementById('crumbs');
  const bcCurrent = document.getElementById('bcCurrent');

  function titleFor(id){
    switch(id){
      case 'dashboard': return 'Главная';
      case 'cases-list': return 'Личные дела';
      case 'case-view': return 'Личные дела / Просмотр';
      case 'case-create': return 'Личные дела / Добавление';
      case 'orders-list': return 'Заказы';
      case 'order-view': return 'Заказы / Просмотр';
      case 'order-create': return 'Заказы / Добавление';
      case 'invoices-list': return 'Накладные';
      case 'invoice-view': return 'Накладные / Просмотр';
      case 'invoice-create': return 'Накладные / Добавление';
      case 'warehouse-stock': return 'Склад';
      case 'stock-view': return 'Склад / Просмотр позиции';
      case 'stock-create': return 'Склад / Добавление позиции';
      case 'warehouse-issues': return 'Выдача';
      case 'issue-view': return 'Выдача / Просмотр';
      case 'issue-create': return 'Выдача / Добавление';
      default: return '';
    }
  }

  function showView(id){
    views.forEach(v=>v.classList.remove('active'));
    const el = document.getElementById(id);
    if(el){ el.classList.add('active'); }
    // обновим боковое меню
    document.querySelectorAll('.nav-item').forEach(i=>i.classList.remove('active'));
    const activeNav = document.querySelector(`.nav-item[data-nav="${id}"]`);
    if(activeNav) activeNav.classList.add('active');
    // хлебные крошки
    const t = titleFor(id);
    crumbsEl.textContent = '/ ' + t;
    bcCurrent.textContent = ' / ' + t;
    window.scrollTo({top:0, behavior:'smooth'});
  }

  // Сайдбар
  navItems.forEach(i=> i.addEventListener('click', ()=> showView(i.dataset.nav)));

  // Кнопки действий с data-nav
  document.body.addEventListener('click', (e)=>{
    const btn = e.target.closest('[data-nav]');
    if(btn && !btn.classList.contains('nav-item')){
      e.preventDefault();
      showView(btn.dataset.nav);
    }
  });
</script>
</body>
</html>
