<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>АИС ЕССО — Заказы</title>
  <style>
    :root { 
      --bg:#f3f5f7; 
      --card:#ffffff; 
      --text:#1e2a3a; 
      --muted:#6b778c; 
      --primary:#2f4b7c; 
      --primary-weak:#3f5e94; 
      --border:#e2e8f0; 
      --accent:#2f9e44; 
      --danger:#e03131; 
      --warning:#b08900; 
      --shadow:0 2px 10px rgba(30,42,58,.08); 
      --radius:12px; 
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Arial,sans-serif;background:var(--bg);color:var(--text)}
    .app{display:grid;grid-template-columns:260px 1fr;grid-template-rows:64px 1fr;grid-template-areas:"sidebar topbar" "sidebar main";height:100vh}

    /* Topbar */
    .topbar{grid-area:topbar;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 18px;position:sticky;top:0;z-index:2}
    .topbar .brand{display:flex;align-items:center;gap:12px;font-weight:600}
    .topbar .crumbs{font-weight:400;opacity:.9}
    .topbar .actions{display:flex;align-items:center;gap:16px}
    .avatar{width:28px;height:28px;border-radius:50%;background:#fff;color:var(--primary);display:grid;place-items:center;font-weight:700}

    /* Sidebar */
    .sidebar{grid-area:sidebar;background:#fff;border-right:1px solid var(--border);padding:18px 12px;display:flex;flex-direction:column;gap:16px}
    .sidebar .logo{display:flex;align-items:center;gap:12px;padding:8px;font-weight:700;color:var(--primary)}
    .nav-group{margin-top:8px}
    .nav-title{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.06em;padding:8px 10px}
    .nav-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:8px;color:var(--text);cursor:pointer;user-select:none}
    .nav-item:hover{background:#f1f4f8}
    .nav-item.active{background:#e9eef7;color:var(--primary);font-weight:600}
    .nav-item .icon{width:18px;height:18px;border-radius:4px;background:var(--primary);opacity:.15}

    /* Main */
    .main{grid-area:main;padding:22px;overflow:auto}
    .page-title{font-size:22px;font-weight:700;margin:4px 0 16px}
    .breadcrumbs{color:#dbe4ff;font-size:14px}
    .breadcrumbs-wrap{margin-bottom:16px;color:var(--muted)}

    /* Cards & tables */
    .grid{display:grid;grid-template-columns:1fr;gap:18px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
    .card h3{margin:0 0 14px;font-size:16px}
    .data-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
    .data-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:8px;align-items:flex-start}
    .data-card h4{margin:0;font-size:14px;color:var(--muted);font-weight:500}
    .data-card .value{font-size:20px;font-weight:700;color:var(--text)}
    .data-card .trend{font-size:12px;color:var(--accent)}

    table{width:100%;border-collapse:collapse}
    th,td{padding:12px;border-bottom:1px solid var(--border);text-align:left;font-size:14px}
    th{color:var(--muted);font-weight:600}
    tr:hover td{background:#fafbfd}
    .actions-col{display:flex;gap:8px;flex-wrap:wrap}

    /* Forms */
    .form-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
    .field{display:flex;flex-direction:column;gap:6px;grid-column:span 3}
    .field.sm{grid-column:span 2} .field.md{grid-column:span 4} .field.lg{grid-column:span 6} .field.xl{grid-column:span 12}
    label{font-size:13px;color:var(--muted)}
    input,select,textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#fff;font-size:14px;outline:none}
    input[type="number"]{appearance:textfield}
    textarea{min-height:84px;resize:vertical}
    .btn-row{display:flex;gap:10px;align-items:center}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid transparent;font-weight:600;cursor:pointer;user-select:none}
    .btn.primary{background:var(--primary);color:#fff}
    .btn.primary:hover{background:var(--primary-weak)}
    .btn.ghost{background:#fff;border-color:var(--border);color:var(--text)}
    .btn.danger{background:#fff;border-color:var(--danger);color:var(--danger)}

    .pill{display:inline-flex;align-items:center;padding:4px 8px;border-radius:999px;border:1px solid var(--border);font-size:12px;gap:6px}
    .pill.warn{color:#8a6d00;border-color:#e7d36b;background:#fffbe6}
    .pill.ok{color:#0a6b2e;border-color:#9fd4ad;background:#f0fff4}
    .pill.bad{color:#8a1f1f;border-color:#efb1b1;background:#fff5f5}

    /* Views */
    .view{display:none}
    .view.active{display:block}

    @media (max-width:1200px){.field{grid-column:span 6}.field.sm{grid-column:span 4}.field.md{grid-column:span 6}.field.lg{grid-column:span 12}}
    @media (max-width:820px){.app{grid-template-columns:1fr;grid-template-rows:56px auto;grid-template-areas:"topbar" "main"}.sidebar{display:none}.topbar{border-bottom-left-radius:0;border-bottom-right-radius:0}}
  </style>
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="logo"><div class="icon" style="width:32px;height:32px;border-radius:50%;opacity:.3"></div>АИС ЕССО</div>
    <div class="nav-group">
      <div class="nav-title">Операции</div>
      <div class="nav-item" data-nav="cases-list"><div class="icon"></div> Личные дела</div>
      <div class="nav-item active" data-nav="orders-list"><div class="icon"></div> Заказы</div>
      <div class="nav-item" data-nav="invoices-list"><div class="icon"></div> Накладные</div>
      <div class="nav-item" data-nav="warehouse-stock"><div class="icon"></div> Склад</div>
      <div class="nav-item" data-nav="warehouse-issues"><div class="icon"></div> Выдача</div>
      <div class="nav-item"><div class="icon"></div> Отчёты</div>
      <div class="nav-item"><div class="icon"></div> Администрирование</div>
    </div>
  </aside>

  <header class="topbar">
    <div class="brand"><span class="crumbs" id="crumbs">/ Заказы</span></div>
    <div class="actions"><span class="muted">Айжана Сайрабаева</span><div class="avatar">A</div></div>
  </header>

  <main class="main">
    <div class="breadcrumbs-wrap">Главная <span id="bcCurrent">/ Заказы</span></div>

    <!-- =========== ЗАКАЗЫ: СПИСОК =========== -->
    <section id="orders-list" class="view active">
      <div class="page-title">Заказы</div>
      <div class="data-cards">
        <div class="data-card"><h4>Всего заказов</h4><div class="value">412</div><div class="trend">+12 за неделю</div></div>
        <div class="data-card"><h4>В работе</h4><div class="value">156</div><div class="trend">+6 за неделю</div></div>
        <div class="data-card"><h4>Готово к передаче</h4><div class="value">34</div><div class="trend" style="color:var(--danger)">−3 за неделю</div></div>
        <div class="data-card"><h4>Просрочено</h4><div class="value">11</div><div class="trend" style="color:var(--danger)">+2 за неделю</div></div>
      </div>
      <section class="card" style="margin-top:20px;">
        <h3>Фильтры</h3>
        <div class="form-grid toolbar">
          <div class="field"><label>Поиск (№ заказа / ПИН / ФИО)</label><input type="text" placeholder="Введите запрос" /></div>
          <div class="field sm"><label>Тип</label><select><option>Все</option><option>Протез</option><option>Ортопедическая обувь</option><option>Отто Бок</option><option>Ремонт</option><option>Готовое ТСР</option></select></div>
          <div class="field sm"><label>Статус</label><select><option>Все</option><option>Черновик</option><option>В работе</option><option>Ожидает примерки</option><option>На доработке</option><option>Готов к передаче</option><option>Передан на склад</option><option>Выдан</option><option>Отменён</option></select></div>
          <div class="field sm"><label>Срочность</label><select><option>Все</option><option>Обычный</option><option>Срочный</option></select></div>
          <div class="field sm"><label>Оплата</label><select><option>Все</option><option>Бесплатно</option><option>Частичная оплата</option><option>Платно</option></select></div>
          <div class="field sm"><label>Цех</label><select><option>Все</option><option>Протезный</option><option>Обувной</option><option>Отто Бок</option><option>Ремонт</option></select></div>
          <div class="field sm"><label>Создан с</label><input type="date" /></div>
          <div class="field sm"><label>по</label><input type="date" /></div>
          <div class="field sm"><label>&nbsp;</label><button class="btn ghost">Сбросить</button></div>
          <div class="field sm"><label>&nbsp;</label><button class="btn primary">Применить</button></div>
          <div class="field sm" style="margin-left:auto"><label>&nbsp;</label><button class="btn primary" data-nav="order-create">+ Новый заказ</button></div>
        </div>
      </section>
      <section class="card">
        <h3>Реестр заказов</h3>
        <table>
          <thead>
            <tr>
              <th>№ заказа</th><th>Личное дело</th><th>Тип</th><th>Изделие</th><th>Цех</th><th>Срочность</th><th>Статус</th><th>Создан</th><th>План. изготов.</th><th>Сумма</th><th>Действия</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>ORD-2025-0156</td><td>2025-0001 / Иванов И.И.</td><td>Протез</td><td>Протез бедра</td><td>Протезный</td><td><span class="pill warn">Срочный</span></td><td>В работе</td><td>01.08.2025</td><td>20.08.2025</td><td>0 сом</td>
              <td class="actions-col">
                <button class="btn" data-nav="order-view">Просмотр</button>
                <button class="btn" data-nav="order-create">Редактировать</button>
                <button class="btn" data-nav="invoices-list">Накладная</button>
                <button class="btn danger" data-action="delete">Удалить</button>
              </td>
            </tr>
            <tr>
              <td>ORD-2025-0157</td><td>2025-0002 / Петров П.П.</td><td>Обувь</td><td>Ортопедическая обувь</td><td>Обувной</td><td><span class="pill ok">Обычный</span></td><td>Ожидает примерки</td><td>02.08.2025</td><td>25.08.2025</td><td>0 сом</td>
              <td class="actions-col">
                <button class="btn" data-nav="order-view">Просмотр</button>
                <button class="btn" data-nav="order-create">Редактировать</button>
                <button class="btn" data-nav="invoices-list">Накладная</button>
                <button class="btn danger" data-action="delete">Удалить</button>
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>

    <!-- Просмотр заказа -->
    <section id="order-view" class="view">
      <div class="page-title">Карточка заказа</div>
      <section class="card">
        <h3>Основные данные</h3>
        <div class="form-grid">
          <div class="field sm"><label>№ заказа</label><input value="ORD-2025-0156" disabled></div>
          <div class="field md"><label>Личное дело</label><input value="2025-0001 / Иванов И.И." disabled></div>
          <div class="field sm"><label>Тип</label><input value="Протез" disabled></div>
          <div class="field sm"><label>Статус</label><input value="В работе" disabled></div>
          <div class="field md"><label>Изделие</label><input value="Протез бедра" disabled></div>
          <div class="field sm"><label>Цех</label><input value="Протезный" disabled></div>
        </div>
        <div class="btn-row" style="margin-top:10px"><button class="btn" data-nav="order-create">Редактировать</button><button class="btn ghost" data-nav="orders-list">Назад к списку</button></div>
      </section>
    </section>

    <!-- =========== ЗАКАЗ: ДОБАВЛЕНИЕ =========== -->
    <section id="order-create" class="view">
      <div class="page-title">Добавление заказа</div>
      <section class="card">
        <h3>Параметры заказа</h3>
        <div class="form-grid">
          <div class="field md"><label>ПИН / ФИО *</label><div class="btn-row"><input type="text" placeholder="Поиск по ПИН или ФИО" style="flex:1" /><button class="btn ghost">Найти дело</button></div></div>
          <div class="field md"><label>№ личного дела</label><input type="text" placeholder="Автозаполнение после выбора" /></div>
          <div class="field md"><label>Категория льготы</label><input type="text" placeholder="Из дела (если есть)" /></div>
          <div class="field md"><label>Диагноз (МКБ)</label><input type="text" placeholder="Например, G82.2" /></div>
          <div class="field md"><label>Тип заказа *</label>
            <select>
              <option>Протез</option><option>Ортопедическая обувь</option><option>Отто Бок</option><option>Ремонт</option><option>Готовое ТСР</option>
            </select>
          </div>
          <div class="field md"><label>Изделие / категория *</label><input type="text" placeholder="Например: протез бедра, пара обуви" /></div>
          <div class="field sm"><label>Первичность *</label><select><option>Первичный</option><option>Вторичный</option></select></div>
          <div class="field sm"><label>Срочность *</label><select><option>Обычный</option><option>Срочный</option></select></div>
          <div class="field sm"><label>Оплата *</label><select><option>Бесплатно</option><option>Частичная оплата</option><option>Платно</option></select></div>
          <div class="field sm"><label>Стоимость, сом</label><input type="number" placeholder="0" /></div>
          <div class="field sm"><label>Примерка 1 — вызов</label><input type="date" /></div>
          <div class="field sm"><label>Примерка 1 — явка</label><input type="date" /></div>
          <div class="field sm"><label>Примерка 2 — вызов</label><input type="date" /></div>
          <div class="field sm"><label>Примерка 2 — явка</label><input type="date" /></div>
          <div class="field sm"><label>Примерка 3 — вызов</label><input type="date" /></div>
          <div class="field sm"><label>Примерка 3 — явка</label><input type="date" /></div>
          <div class="field md"><label>Цех *</label><select><option>Протезный</option><option>Обувной</option><option>Отто Бок</option><option>Ремонт</option></select></div>
          <div class="field md"><label>Мастер / ответственный</label><input type="text" placeholder="ФИО мастера" /></div>
          <div class="field md"><label>Плановая дата изготовления</label><input type="date" /></div>
          <div class="field md"><label>Плановая дата выдачи</label><input type="date" /></div>
          <div class="field xl"><label>Специфика (протез)</label><textarea placeholder="Сторона, уровень ампутации, рост, вес, степень активности, таблица комплектующих..."></textarea></div>
          <div class="field xl"><label>Специфика (ортопедическая обувь)</label><textarea placeholder="Замеры: длина/ширина стопы, индивидуальные особенности, коррекции..."></textarea></div>
          <div class="field xl"><label>Комментарий врача</label><textarea placeholder="Особые указания к изготовлению"></textarea></div>
        </div>
        <div class="btn-row" style="justify-content:space-between">
          <div class="btn-row"><button class="btn ghost">Сохранить черновик</button><button class="btn primary" data-nav="orders-list">Сохранить заказ</button></div>
          <div class="btn-row"><button class="btn ghost" data-nav="orders-list">Отмена</button><button class="btn primary" data-nav="invoices-list">Сохранить и сформировать накладную</button></div>
        </div>
      </section>
    </section>
  </main>
</div>

<script>
  // Простая маршрутизация по data-nav
  const views = document.querySelectorAll('.view');
  const navItems = document.querySelectorAll('.nav-item[data-nav]');
  const crumbsEl = document.getElementById('crumbs');
  const bcCurrent = document.getElementById('bcCurrent');

  function titleFor(id){
    switch(id){
      case 'cases-list': return 'Личные дела';
      case 'case-view': return 'Личные дела / Просмотр';
      case 'case-create': return 'Личные дела / Добавление';
      case 'orders-list': return 'Заказы';
      case 'order-view': return 'Заказы / Просмотр';
      case 'order-create': return 'Заказы / Добавление';
      default: return '';
    }
  }

  function showView(id){
    views.forEach(v=>v.classList.remove('active'));
    const el = document.getElementById(id);
    if(el){ el.classList.add('active'); }
    // обновим боковое меню
    document.querySelectorAll('.nav-item').forEach(i=>i.classList.remove('active'));
    const activeNav = document.querySelector(`.nav-item[data-nav="${id}"]`);
    if(activeNav) activeNav.classList.add('active');
    // хлебные крошки
    const t = titleFor(id);
    crumbsEl.textContent = '/ ' + t;
    bcCurrent.textContent = ' / ' + t;
    window.scrollTo({top:0, behavior:'smooth'});
  }

  // Сайдбар
  navItems.forEach(i=> i.addEventListener('click', ()=> showView(i.dataset.nav)));

  // Кнопки действий с data-nav
  document.body.addEventListener('click', (e)=>{
    const btn = e.target.closest('[data-nav]');
    if(btn && !btn.classList.contains('nav-item')){
      e.preventDefault();
      showView(btn.dataset.nav);
    }
  });
</script>
</body>
</html>
