<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>АИС ЕССО — Склад</title>
  <style>
    :root { 
      --bg:#f3f5f7; 
      --card:#ffffff; 
      --text:#1e2a3a; 
      --muted:#6b778c; 
      --primary:#2f4b7c; 
      --primary-weak:#3f5e94; 
      --border:#e2e8f0; 
      --accent:#2f9e44; 
      --danger:#e03131; 
      --warning:#b08900; 
      --shadow:0 2px 10px rgba(30,42,58,.08); 
      --radius:12px; 
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Arial,sans-serif;background:var(--bg);color:var(--text)}
    .app{display:grid;grid-template-columns:260px 1fr;grid-template-rows:64px 1fr;grid-template-areas:"sidebar topbar" "sidebar main";height:100vh}

    /* Topbar */
    .topbar{grid-area:topbar;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 18px;position:sticky;top:0;z-index:2}
    .topbar .brand{display:flex;align-items:center;gap:12px;font-weight:600}
    .topbar .crumbs{font-weight:400;opacity:.9}
    .topbar .actions{display:flex;align-items:center;gap:16px}
    .avatar{width:28px;height:28px;border-radius:50%;background:#fff;color:var(--primary);display:grid;place-items:center;font-weight:700}

    /* Sidebar */
    .sidebar{grid-area:sidebar;background:#fff;border-right:1px solid var(--border);padding:18px 12px;display:flex;flex-direction:column;gap:16px}
    .sidebar .logo{display:flex;align-items:center;gap:12px;padding:8px;font-weight:700;color:var(--primary)}
    .nav-group{margin-top:8px}
    .nav-title{color:var(--muted);font-size:12px;text-transform:uppercase;letter-spacing:.06em;padding:8px 10px}
    .nav-item{display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:8px;color:var(--text);cursor:pointer;user-select:none}
    .nav-item:hover{background:#f1f4f8}
    .nav-item.active{background:#e9eef7;color:var(--primary);font-weight:600}
    .nav-item .icon{width:18px;height:18px;border-radius:4px;background:var(--primary);opacity:.15}

    /* Main */
    .main{grid-area:main;padding:22px;overflow:auto}
    .page-title{font-size:22px;font-weight:700;margin:4px 0 16px}
    .breadcrumbs{color:#dbe4ff;font-size:14px}
    .breadcrumbs-wrap{margin-bottom:16px;color:var(--muted)}

    /* Cards & tables */
    .grid{display:grid;grid-template-columns:1fr;gap:18px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
    .card h3{margin:0 0 14px;font-size:16px}
    .data-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
    .data-card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:8px;align-items:flex-start}
    .data-card h4{margin:0;font-size:14px;color:var(--muted);font-weight:500}
    .data-card .value{font-size:20px;font-weight:700;color:var(--text)}
    .data-card .trend{font-size:12px;color:var(--accent)}

    table{width:100%;border-collapse:collapse}
    th,td{padding:12px;border-bottom:1px solid var(--border);text-align:left;font-size:14px}
    th{color:var(--muted);font-weight:600}
    tr:hover td{background:#fafbfd}
    .actions-col{display:flex;gap:8px;flex-wrap:wrap}

    /* Forms */
    .form-grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
    .field{display:flex;flex-direction:column;gap:6px;grid-column:span 3}
    .field.sm{grid-column:span 2} .field.md{grid-column:span 4} .field.lg{grid-column:span 6} .field.xl{grid-column:span 12}
    label{font-size:13px;color:var(--muted)}
    input,select,textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#fff;font-size:14px;outline:none}
    input[type="number"]{appearance:textfield}
    textarea{min-height:84px;resize:vertical}
    .btn-row{display:flex;gap:10px;align-items:center}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid transparent;font-weight:600;cursor:pointer;user-select:none}
    .btn.primary{background:var(--primary);color:#fff}
    .btn.primary:hover{background:var(--primary-weak)}
    .btn.ghost{background:#fff;border-color:var(--border);color:var(--text)}
    .btn.danger{background:#fff;border-color:var(--danger);color:var(--danger)}

    .pill{display:inline-flex;align-items:center;padding:4px 8px;border-radius:999px;border:1px solid var(--border);font-size:12px;gap:6px}
    .pill.warn{color:#8a6d00;border-color:#e7d36b;background:#fffbe6}
    .pill.ok{color:#0a6b2e;border-color:#9fd4ad;background:#f0fff4}
    .pill.bad{color:#8a1f1f;border-color:#efb1b1;background:#fff5f5}

    /* Views */
    .view{display:none}
    .view.active{display:block}

    @media (max-width:1200px){.field{grid-column:span 6}.field.sm{grid-column:span 4}.field.md{grid-column:span 6}.field.lg{grid-column:span 12}}
    @media (max-width:820px){.app{grid-template-columns:1fr;grid-template-rows:56px auto;grid-template-areas:"topbar" "main"}.sidebar{display:none}.topbar{border-bottom-left-radius:0;border-bottom-right-radius:0}}
  </style>
</head>
<body>
<div class="app">
  <aside class="sidebar">
    <div class="logo"><div class="icon" style="width:32px;height:32px;border-radius:50%;opacity:.3"></div>АИС ЕССО</div>
    <div class="nav-group">
      <div class="nav-title">Операции</div>
      <div class="nav-item" data-nav="cases-list"><div class="icon"></div> Личные дела</div>
      <div class="nav-item" data-nav="orders-list"><div class="icon"></div> Заказы</div>
      <div class="nav-item" data-nav="invoices-list"><div class="icon"></div> Накладные</div>
      <div class="nav-item active" data-nav="warehouse-stock"><div class="icon"></div> Склад</div>
      <div class="nav-item" data-nav="warehouse-issues"><div class="icon"></div> Выдача</div>
      <div class="nav-item"><div class="icon"></div> Отчёты</div>
      <div class="nav-item"><div class="icon"></div> Администрирование</div>
    </div>
  </aside>

  <header class="topbar">
    <div class="brand"><span class="crumbs" id="crumbs">/ Склад</span></div>
    <div class="actions"><span class="muted">Айжана Сайрабаева</span><div class="avatar">A</div></div>
  </header>

  <main class="main">
    <div class="breadcrumbs-wrap">Главная <span id="bcCurrent">/ Склад</span></div>

    <!-- =========== СКЛАД (остатки) =========== -->
    <section id="warehouse-stock" class="view active">
      <div class="page-title">Склад</div>
      <div class="data-cards">
        <div class="data-card"><h4>Всего на складе</h4><div class="value">1200</div></div>
        <div class="data-card"><h4>Доступно</h4><div class="value">1100</div></div>
        <div class="data-card"><h4>Зарезервировано</h4><div class="value">80</div></div>
        <div class="data-card"><h4>Дефицит</h4><div class="value" style="color:var(--danger)">20</div></div>
      </div>
      <section class="card" style="margin-top:20px;">
        <h3>Фильтры</h3>
        <div class="form-grid toolbar">
          <div class="field"><label>Поиск (артикул / наименование)</label><input type="text" placeholder="Введите" /></div>
          <div class="field sm"><label>Категория</label><select><option>Все</option><option>Протезы</option><option>Ортезы</option><option>Обувь</option></select></div>
          <div class="field sm"><label>Наличие</label><select><option>Все</option><option>В наличии</option><option>Нет в наличии</option></select></div>
          <div class="field sm"><label>&nbsp;</label><button class="btn ghost">Сбросить</button></div>
          <div class="field sm"><label>&nbsp;</label><button class="btn primary">Применить</button></div>
          <div class="field sm" style="margin-left:auto"><label>&nbsp;</label><button class="btn primary" data-nav="stock-create">+ Новая позиция</button></div>
        </div>
      </section>
      <section class="card">
        <h3>Реестр склада</h3>
        <table>
          <thead>
            <tr>
              <th>Артикул</th><th>Наименование</th><th>Категория</th><th>Количество</th><th>Ед. изм.</th><th>Статус</th><th>Действия</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>PR-001</td><td>Протез нижней конечности</td><td>Протезы</td><td>25</td><td>шт.</td><td>В наличии</td>
              <td class="actions-col"><button class="btn" data-nav="stock-view">Просмотр</button><button class="btn" data-nav="stock-create">Редактировать</button><button class="btn danger" data-action="delete">Удалить</button></td>
            </tr>
            <tr>
              <td>OR-001</td><td>Ортез коленного сустава</td><td>Ортезы</td><td>15</td><td>шт.</td><td>В наличии</td>
              <td class="actions-col"><button class="btn" data-nav="stock-view">Просмотр</button><button class="btn" data-nav="stock-create">Редактировать</button><button class="btn danger" data-action="delete">Удалить</button></td>
            </tr>
            <tr>
              <td>OB-001</td><td>Ортопедическая обувь</td><td>Обувь</td><td>8</td><td>пар</td><td>В наличии</td>
              <td class="actions-col"><button class="btn" data-nav="stock-view">Просмотр</button><button class="btn" data-nav="stock-create">Редактировать</button><button class="btn danger" data-action="delete">Удалить</button></td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>

    <!-- Просмотр позиции склада -->
    <section id="stock-view" class="view">
      <div class="page-title">Позиция склада</div>
      <section class="card">
        <h3>Детали позиции</h3>
        <div class="form-grid">
          <div class="field sm"><label>Артикул</label><input value="PR-001" disabled></div>
          <div class="field md"><label>Наименование</label><input value="Протез нижней конечности" disabled></div>
          <div class="field sm"><label>Категория</label><input value="Протезы" disabled></div>
          <div class="field sm"><label>Количество</label><input value="25" disabled></div>
          <div class="field sm"><label>Ед. изм.</label><input value="шт." disabled></div>
          <div class="field sm"><label>Статус</label><input value="В наличии" disabled></div>
        </div>
        <div class="btn-row" style="margin-top:10px"><button class="btn" data-nav="stock-create">Редактировать</button><button class="btn ghost" data-nav="warehouse-stock">Назад к списку</button></div>
      </section>
    </section>

    <!-- Создание/редактирование позиции склада -->
    <section id="stock-create" class="view">
      <div class="page-title">Добавление позиции (Склад)</div>
      <section class="card">
        <h3>Параметры позиции</h3>
        <div class="form-grid">
          <div class="field sm"><label>Артикул *</label><input type="text" placeholder="Введите" /></div>
          <div class="field md"><label>Наименование *</label><input type="text" placeholder="Введите" /></div>
          <div class="field sm"><label>Категория *</label><select><option>Протезы</option><option>Ортезы</option><option>Обувь</option></select></div>
          <div class="field sm"><label>Количество *</label><input type="number" /></div>
          <div class="field sm"><label>Ед. изм.</label><input type="text" placeholder="шт." /></div>
          <div class="field sm"><label>Статус</label><select><option>В наличии</option><option>Нет в наличии</option></select></div>
          <div class="field lg"><label>Комментарий</label><textarea placeholder="Примечание к позиции"></textarea></div>
        </div>
        <div class="btn-row" style="margin-top:10px"><button class="btn ghost" data-nav="warehouse-stock">Сохранить</button><button class="btn primary" data-nav="warehouse-stock">Сохранить и добавить ещё</button><button class="btn danger" data-nav="warehouse-stock">Отмена</button></div>
      </section>
    </section>

    <!-- =========== ВЫДАЧА =========== -->
    <section id="warehouse-issues" class="view">
      <div class="page-title">Выдача</div>
      <div class="data-cards">
        <div class="data-card"><h4>Всего позиций</h4><div class="value">520</div></div>
        <div class="data-card"><h4>В наличии</h4><div class="value">460</div></div>
        <div class="data-card"><h4>Выдано</h4><div class="value">60</div></div>
        <div class="data-card"><h4>Дефицит</h4><div class="value" style="color:var(--danger)">12</div></div>
      </div>
      <section class="card" style="margin-top:20px;">
        <h3>Фильтры</h3>
        <div class="form-grid toolbar">
          <div class="field"><label>Поиск (№ накладной / ПИН / ФИО)</label><input type="text" placeholder="Введите" /></div>
          <div class="field sm"><label>Статус выдачи</label><select><option>Все</option><option>В процессе</option><option>Выдано</option></select></div>
          <div class="field sm"><label>Дата с</label><input type="date" /></div>
          <div class="field sm"><label>по</label><input type="date" /></div>
          <div class="field sm"><label>&nbsp;</label><button class="btn ghost">Сбросить</button></div>
          <div class="field sm"><label>&nbsp;</label><button class="btn primary">Применить</button></div>
          <div class="field sm" style="margin-left:auto"><label>&nbsp;</label><button class="btn primary" data-nav="issue-create">+ Новая выдача</button></div>
        </div>
      </section>
      <section class="card">
        <h3>Реестр выдачи</h3>
        <table>
          <thead>
            <tr>
              <th>№ выдачи</th><th>ПИН</th><th>ФИО</th><th>Дата выдачи</th><th>Статус</th><th>Комментарий</th><th>Действия</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>VD-2025-010</td><td>1230****4567</td><td>Иванов Иван Иванович</td><td>08.08.2025</td><td>Выдано</td><td>Полный комплект</td>
              <td class="actions-col"><button class="btn" data-nav="issue-view">Просмотр</button><button class="btn" data-nav="issue-create">Редактировать</button><button class="btn danger" data-action="delete">Удалить</button></td>
            </tr>
          </tbody>
        </table>
      </section>
    </section>

    <!-- Просмотр выдачи -->
    <section id="issue-view" class="view">
      <div class="page-title">Карточка выдачи</div>
      <section class="card">
        <h3>Основные данные</h3>
        <div class="form-grid">
          <div class="field sm"><label>№ выдачи</label><input value="VD-2025-010" disabled></div>
          <div class="field md"><label>ПИН / ФИО</label><input value="1230****4567 / Иванов Иван Иванович" disabled></div>
          <div class="field sm"><label>Статус</label><input value="Выдано" disabled></div>
          <div class="field sm"><label>Дата выдачи</label><input value="08.08.2025" disabled></div>
          <div class="field lg"><label>Комментарий</label><textarea disabled>Полный комплект</textarea></div>
        </div>
        <div class="btn-row" style="margin-top:10px"><button class="btn" data-nav="issue-create">Редактировать</button><button class="btn ghost" data-nav="warehouse-issues">Назад к списку</button></div>
      </section>
    </section>

    <!-- =========== СОЗДАТЬ ВЫДАЧУ =========== -->
    <section id="issue-create" class="view">
      <div class="page-title">Добавление выдачи</div>
      <section class="card">
        <h3>Параметры выдачи</h3>
        <div class="form-grid">
          <div class="field sm"><label>№ накладной *</label><input type="text" placeholder="Введите" /></div>
          <div class="field sm"><label>Дата выдачи *</label><input type="date" /></div>
          <div class="field sm"><label>Статус *</label><select><option>В процессе</option><option>Выдано</option></select></div>
          <div class="field lg"><label>Комментарий</label><textarea placeholder="Дополнительная информация"></textarea></div>
        </div>
        <div class="btn-row" style="margin-top:10px"><button class="btn ghost" data-nav="warehouse-issues">Сохранить</button><button class="btn primary" data-nav="warehouse-issues">Сохранить и завершить</button><button class="btn danger" data-nav="warehouse-issues">Отмена</button></div>
      </section>
    </section>
  </main>
</div>

<script>
  // Простая маршрутизация по data-nav
  const views = document.querySelectorAll('.view');
  const navItems = document.querySelectorAll('.nav-item[data-nav]');
  const crumbsEl = document.getElementById('crumbs');
  const bcCurrent = document.getElementById('bcCurrent');

  function titleFor(id){
    switch(id){
      case 'warehouse-stock': return 'Склад';
      case 'stock-view': return 'Склад / Просмотр позиции';
      case 'stock-create': return 'Склад / Добавление позиции';
      case 'warehouse-issues': return 'Выдача';
      case 'issue-view': return 'Выдача / Просмотр';
      case 'issue-create': return 'Выдача / Добавление';
      default: return '';
    }
  }

  function showView(id){
    views.forEach(v=>v.classList.remove('active'));
    const el = document.getElementById(id);
    if(el){ el.classList.add('active'); }
    // обновим боковое меню
    document.querySelectorAll('.nav-item').forEach(i=>i.classList.remove('active'));
    const activeNav = document.querySelector(`.nav-item[data-nav="${id}"]`);
    if(activeNav) activeNav.classList.add('active');
    // хлебные крошки
    const t = titleFor(id);
    crumbsEl.textContent = '/ ' + t;
    bcCurrent.textContent = ' / ' + t;
    window.scrollTo({top:0, behavior:'smooth'});
  }

  // Сайдбар
  navItems.forEach(i=> i.addEventListener('click', ()=> showView(i.dataset.nav)));

  // Кнопки действий с data-nav
  document.body.addEventListener('click', (e)=>{
    const btn = e.target.closest('[data-nav]');
    if(btn && !btn.classList.contains('nav-item')){
      e.preventDefault();
      showView(btn.dataset.nav);
    }
  });
</script>
</body>
</html>
